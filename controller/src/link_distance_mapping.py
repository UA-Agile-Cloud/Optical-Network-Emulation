#!/usr/bin/env python
import math
import sys
from macros import *
# virtual_links = [	(1, 2, 500),
# 			(1, 3, 500),			
# 			(2, 3, 500),
# 			(2, 4, 500),
# 			(3, 5, 500),
# 			(3, 7, 500),
# 			(4, 5, 500),
# 			(4, 10, 500),
# 			(5, 6, 500),
# 			(5, 8, 500),
# 			(6, 9, 500),
# 			(7, 9, 500),
# 			(7, 14, 500),
# 			(7, 15, 500),
# 			(8, 9, 500),
# 			(8, 11, 500),
# 			(8, 12, 500), 
# 			(9, 13, 500),
# 			(10, 11, 500),
# 			(10, 21, 500),
# 			(11, 20, 500),
# 			(11, 21, 500),
# 			(12, 13, 500),
# 			(12, 19, 500),
# 			(12, 20, 500),
# 			(13, 14, 500),
# 			(13, 18, 500),
# 			(14, 15, 500),
# 			(14, 17, 500),
# 			(15, 16, 500),
# 			(16, 17, 500),
# 			(17, 18, 500),
# 			(18, 19, 500),
# 			(19, 20, 500),
# 			(20, 21, 500)]
# # Original
# virtual_links = [	(1, 2, 290),
# 			(1, 3, 360),			
# 			(2, 3, 250),
# 			(2, 4, 190),
# 			(3, 5, 150),
# 			(3, 7, 360),
# 			(4, 5, 190),
# 			(4, 10, 110),
# 			(5, 6, 160),
# 			(5, 8, 350),
# 			(6, 9, 180),
# 			(7, 9, 390),
# 			(7, 14, 360),
# 			(7, 15, 340),
# 			(8, 9, 160),
# 			(8, 11, 360),
# 			(8, 12, 345), 
# 			(9, 13, 350),
# 			(10, 11, 310),
# 			(10, 21, 590),
# 			(11, 20, 310),
# 			(11, 21, 305),
# 			(12, 13, 230),
# 			(12, 19, 145),
# 			(12, 20, 430),
# 			(13, 14, 360),
# 			(13, 18, 245),
# 			(14, 15, 240),
# 			(14, 17, 340),
# 			(15, 16, 210),
# 			(16, 17, 430),
# 			(17, 18, 220),
# 			(18, 19, 230),
# 			(19, 20, 350),
# 			(20, 21, 110)]

# # +200km
# virtual_links = [	(1, 2, 490),
# 			(1, 3, 560),			
# 			(2, 3, 450),
# 			(2, 4, 390),
# 			(3, 5, 350),
# 			(3, 7, 560),
# 			(4, 5, 390),
# 			(4, 10, 310),
# 			(5, 6, 360),
# 			(5, 8, 550),
# 			(6, 9, 280),
# 			(7, 9, 590),
# 			(7, 14, 560),
# 			(7, 15, 540),
# 			(8, 9, 260),
# 			(8, 11, 560),
# 			(8, 12, 545), 
# 			(9, 13, 550),
# 			(10, 11, 510),
# 			(10, 21, 790),
# 			(11, 20, 510),
# 			(11, 21, 505),
# 			(12, 13, 430),
# 			(12, 19, 345),
# 			(12, 20, 630),
# 			(13, 14, 560),
# 			(13, 18, 345),
# 			(14, 15, 440),
# 			(14, 17, 540),
# 			(15, 16, 410),
# 			(16, 17, 630),
# 			(17, 18, 420),
# 			(18, 19, 430),
# 			(19, 20, 550),
# 			(20, 21, 310)]

# +300km
virtual_links = VIRTUAL_LINKS_DISTANCE

def main():

	link_distance_mapping = {}
	dict_key = 0
	for link in virtual_links:
		src_node = link[0]
		dst_node = link[1]
		distance = link[2]

		try:
			EDFA_NO = math.ceil(distance/float(100)) + 1
			if EDFA_NO == 2:
				EDFA_NO = 1
			dict_key = dict_key + 1
			link_distance_mapping[dict_key] = (src_node, dst_node, distance, EDFA_NO)
			dict_key = dict_key + 1
			link_distance_mapping[dict_key] = (dst_node, src_node, distance, EDFA_NO)
		except:
			print('Err: unable to allocate link_distance_mapper!')

	return link_distance_mapping

if __name__=='__main__':
    sys.exit(main)
